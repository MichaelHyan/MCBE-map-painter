## MCBE 地图画生成器

### 警告！该工具使用mcfunction实现，不支持傻瓜式操作

### 所需条件

确保已安装我的世界基岩版(Minecraft Bedrock Edition)1.20.0以上、Python以及能自定义画布大小的图片处理软件(如PS，可根据自己需要更改)

### 使用方式1（适用于win10版我的世界）

1.进入游戏，根据场地确定所需地图画类型、尺寸和位置

注：地图画尺寸受最大模拟距离影响，如超出尺寸请分块分别处理

2.使用图片处理软件将图片改为所需尺寸，注意单位使用像素，导出使用png格式，不要导出其他格式后改后缀

3.安装项目目录的mcaddon文件，会自己做资源包的省略这一步

4.安装完成后进入资源包的目录

PC版存储位置
```
%USERPROFILE%\AppData\Local\Packages\Microsoft.MinecraftUWP_8wekyb3d8bbwe\LocalState\games\com.mojang\behavior_packs\地图画生成器辅助资源
```
5.运行start.bat或map_painter_plus.py，如系统阻止运行则继续选择运行

终端界面弹出后根据提示将图片拖拽至界面，并设置使用方块等参数

处理完成后，functions文件夹内出现多个mcfunction文件

mcfunction文件可转移至其他资源包，不一定需要在本资源包下运行

5.启动游戏，启用行为包“地图画生成器辅助资源”，以创造模式进入世界，运行如下指令
```
/function new0 [0为序号，代码辅助里显示几个运行几个]
```
地图画会生成在玩家脚下，玩家位于地图画左上角（地图显示方向）

### 使用方式2（适用于所有平台，但部分步骤需要能运行Python的设备，如PC）

1.进入游戏，根据场地确定所需地图画类型、尺寸和位置

2.打开根目录下map_painter文件夹，运行start.bat或map_painter_plus.py，根据引导设置参数

3.处理完成后，functions文件夹内出现多个mcfunction文件

4.压缩map_painter文件夹(程序所在文件夹)，压缩格式选择zip，压缩完成后后缀改为.mcaddon

5.打包完成后的mcaddon可根据自己需要在其他基岩版平台安装

6.启动游戏，启用行为包“地图画生成器辅助资源”，以创造模式进入世界，运行如下指令
```
/function new0 [0为序号，代码辅助里显示几个运行几个]
```
地图画会生成在玩家脚下，玩家位于地图画左上角（地图显示方向）

### 特殊功能：沙画模式

沙画为特殊地图画，仅使用火把和可掉落方块组成，可自选沙画起始点

注意：沙画不建议太大，可能会超出高度上限，使用时可能会产生过量实体引起卡顿

鉴于目前除本项目外不存在基岩版沙画生成器，不清楚可能出现的问题，所以此部分代码可能存在漏洞

#### 中心扩散模式

选择中心点，沿四周扩散式下落，适用于任何矩形

预留高度=长边/√2

建议中心点选择(0,0)

#### S型扫描模式

竖排向右侧扫描线式生成

预留高度=长边*短边

#### 螺旋扩散

从中心或四周螺旋式生成

预留高度=长边*短边

### 注意事项

1.该工具使用方式相对其他工具并不直观，建议先在空白地图创建地图画后使用结构方块转移至目标存档。

2.由于指令作用范围有限，如地图画太大，可以将其分多块处理，之后在世界存档内资源包重新修改。每块大小建议不超过2个基础地图显示范围(256*256)。

3.视觉增强算法可将地图画转化为近似人类视觉的效果，建议常开。

4.最佳作画效果选择如下方块：混凝土、木板、下界方块、海洋神殿方块、建筑方块、陶瓦、发光方块，启用视觉增强算法。参数如下：

```
1 3 4 5 6 7 9
y
```

5.出于谨慎考虑，请勿将本资源包用于不法行为。禁止以侵犯他人著作权，肖像权的方式使用。

### 教程视频

操作很笨拙(用惯了手柄键鼠操作不熟悉)，见谅。

链接如下

https://www.bilibili.com/video/BV1ihhPziECh/?vd_source=353110cd5c1ad8bc992af3d375baefe8